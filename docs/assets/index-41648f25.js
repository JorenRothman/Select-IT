(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&c(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function v(e,t,n){const{dom:c}=n,r=_(),s=j(),o=M(t),f=w(c.button.html),l=I(),p=A(),a=S(t);p.append(...a),l.append(p),s.append(o,f),r.append(s,l);const m=e.parentElement;m&&m.insertBefore(r,e),c.hideOriginal&&(e.style.display="none");function u(){const{value:E}=e;a.forEach(b=>{const{dataset:L}=b;L.value===E?(b.classList.add("select-it__item--selected"),o.textContent=b.textContent??""):b.classList.remove("select-it__item--selected")})}return{wrapper:r,selectOptions:a,input:s,button:f,render:u}}function _(){const e=document.createElement("div");return e.classList.add("select-it"),e}function j(){const e=document.createElement("div");return e.classList.add("select-it__input"),e}function M(e){const t=document.createElement("span");t.classList.add("select-it__current-value");const n=e.options.find(c=>c.value===e.selected);return t.textContent=(n==null?void 0:n.text)??"",t}function w(e){const t=document.createElement("button");return t.classList.add("select-it__button"),typeof e=="string"?t.innerHTML=e:t.innerHTML=e.open,t}function I(){const e=document.createElement("div");return e.classList.add("select-it__dropdown"),e}function A(){const e=document.createElement("ul");return e.classList.add("select-it__list"),e}function S(e){return e.options.map(n=>{const{text:c,value:r}=n,s=e.selected===r;return C(c,r,s)})}function C(e,t,n){const c=document.createElement("li");return c.classList.add("select-it__item"),n&&c.classList.add("select-it__item--selected"),c.dataset.value=t,c.textContent=e,c}function P(e,t,n,c){t.forEach(r=>{r.addEventListener("click",()=>{const{value:s}=r.dataset;s&&(e.value=s,e.dispatchEvent(new Event("change")),c())},{signal:n})})}function T(e,t,n){e.addEventListener("change",()=>{n()},{signal:t})}function x(e,t,n){document.addEventListener("click",c=>{const r=c.target;e.contains(r)||n()},{signal:t})}function D(e,t,n){e.addEventListener("click",n,{signal:t})}function N(e){const t={options:[],selected:""};return e.querySelectorAll("option").forEach(c=>{const{value:r,text:s}=c;c.selected&&(t.selected=r),t.options.push({value:r,text:s})}),t}function B(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var H=function(t){return U(t)&&!V(t)};function U(e){return!!e&&typeof e=="object"}function V(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||q(e)}var F=typeof Symbol=="function"&&Symbol.for,R=F?Symbol.for("react.element"):60103;function q(e){return e.$$typeof===R}function K(e){return Array.isArray(e)?[]:{}}function d(e,t){return t.clone!==!1&&t.isMergeableObject(e)?i(K(e),e,t):e}function X(e,t,n){return e.concat(t).map(function(c){return d(c,n)})}function $(e,t){if(!t.customMerge)return i;var n=t.customMerge(e);return typeof n=="function"?n:i}function W(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function O(e){return Object.keys(e).concat(W(e))}function h(e,t){try{return t in e}catch{return!1}}function Y(e,t){return h(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function z(e,t,n){var c={};return n.isMergeableObject(e)&&O(e).forEach(function(r){c[r]=d(e[r],n)}),O(t).forEach(function(r){Y(e,r)||(h(e,r)&&n.isMergeableObject(t[r])?c[r]=$(r,n)(e[r],t[r],n):c[r]=d(t[r],n))}),c}function i(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||X,n.isMergeableObject=n.isMergeableObject||H,n.cloneUnlessOtherwiseSpecified=d;var c=Array.isArray(t),r=Array.isArray(e),s=c===r;return s?c?n.arrayMerge(e,t,n):z(e,t,n):d(t,n)}i.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(c,r){return i(c,r,n)},{})};var G=i,J=G;const Q=B(J),g={dom:{hideOriginal:!0,button:{html:"X"}}};function y(e,t=g){t=Q(g,t);const n=new AbortController,{signal:c}=n,r=N(e),{wrapper:s,selectOptions:o,input:f,button:l,render:p}=v(e,r,t);function a(){return s.classList.contains("select-it--open")}function m(){s.classList.add("select-it--open"),typeof t.dom.button.html!="string"&&(l.innerHTML=t.dom.button.html.close)}function u(){s.classList.remove("select-it--open"),typeof t.dom.button.html!="string"&&(l.innerHTML=t.dom.button.html.open)}return D(f,c,()=>{a()?u():m()}),x(s,c,u),P(e,o,c,u),T(e,c,p),{destroy(){n.abort()},reInit(){this.destroy(),y(e,t)}}}const Z=document.getElementById("test");y(Z,{dom:{hideOriginal:!1,button:{html:{open:"<span>Open</span>",close:"<span>Close</span>"}}}});const k=document.getElementById("test2");y(k,{dom:{button:{html:{open:"<span>X</span>",close:"<span>C</span>"}}}});
